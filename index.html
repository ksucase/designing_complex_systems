<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport"
		  content="width=device-width, initial-scale=1.0, maximum-scale=1,user-scalable=no">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="description" content="Goal Consistency RPE, Kansas State University">
	<meta name="author"      content="Denise Case">
	<title>Designing Complex Cooperative Systems</title>
	<link rel="icon" type="image/png" href="favicon.png"/>
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="css/goals.css"/>
	<link rel="stylesheet" href="css/nv.d3.css"/>
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="lib/font-awesome/css/font-awesome.min.css">
</head>

<body >
	<script src="lib/d3/d3.min.js"></script>
	<script src="lib/js/jquery-1.11.0.min.js"></script>
	<script src="lib/bootstrap/js/bootstrap.min.js"></script>
	<script src="js/nv.d3.js"></script>
	<script src="js/cluster_data.js"></script>
	<script src="js/goals.js"></script>


<!-- Navigation -->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse"
				data-target=".navbar-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" href="#">Designing Complex Cooperative Systems</a>
	</div>
	<!--/.navbar-header -->
	<div class="navbar-collapse collapse">
		<form class="navbar-form navbar-right" role="search">
			<div class="form-group has-feedback navbar-right">
				<input id="searchbox" type="text" placeholder="Search" class="form-control">
				<span id="searchicon" class="fa fa-search form-control-feedback"></span>
			</div>
		</form>
		<ul class="nav navbar-nav">


			<li class="dropdown">
				<a id="toolsDrop" href="#" role="button" class="dropdown-toggle"
				   data-toggle="dropdown">
					<i class="fa fa-globe" style="color: white"></i>&nbsp;&nbsp;Project <b
						class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="http://ipds.cis.ksu.edu/" data-toggle="collapse"
						   data-target=".navbar-collapse.in">
						<i class="fa fa-globe"></i>&nbsp;&nbsp;IPDS Website</a></li>
				</ul>
			</li>
			<li class="dropdown">
				<a class="dropdown-toggle" id="downloadDrop" href="#" role="button"
				   data-toggle="dropdown">
					<i class="fa fa-bar-chart-o" style="color: white"></i>&nbsp;&nbsp;Diagrams <b
						class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in"
						   onclick="toggle1();">
						<i class="fa fa-globe"></i>&nbsp;&nbsp;Voltages</a></li>
					<li><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in"
						   onclick="toggle2();">
						<i class="fa fa-globe"></i>&nbsp;&nbsp;Simulation</a></li>
				</ul>
			</li>
			<li class="dropdown">
				<a id="toolsDrop" href="#" role="button" class="dropdown-toggle"
				   data-toggle="dropdown"><i class="fa fa-globe" style="color: white">
				</i>&nbsp;&nbsp;About <b class="caret"></b></a>
				<ul class="dropdown-menu">
				<!--	<li><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in"
						   onclick="$('#aboutModal').modal('show'); return false;">
						<i class="fa fa-question-circle"></i>&nbsp;&nbsp;About</a></li> -->
					<li><a href="#" data-toggle="collapse" data-target=".navbar-collapse.in"
						   onclick="$('#resourcesModal').modal('show'); return false;">
						<i class="fa fa-external-link"></i>&nbsp;&nbsp;Resources</a></li>
				</ul>
			</li>
		</ul>
	</div> <!--/.navbar-collapse -->
</div><!--/.navbar -->
  <p><br>
   <div class="btn-group" data-toggle="buttons" id="radioDisplay">
    <label class="btn btn-danger">          <input type="radio" name="options" id="1" >Radial </label>
    <label class="btn btn-primary">         <input type="radio" name="options" id="2" >Flat   </label>
    <label class="btn btn-success active">  <input type="radio" name="options" id="3" >Collapsible   </label>
</div>
   <div id="canvas">
      <div id="footer"> d3.layout.tree
        <div class="hint">click or option-click to expand or collapse</div>
      </div>
     </div>
 <script type="text/javascript">
 
	
	  var disp;
		if (typeof disp === 'undefined') {
			loadRadial()
	    }
		if (disp === 3) {
		function loadCollapsible(){

	// flare function see 	view-source:http://mbostock.github.io/d3/talk/20111018/tree.html	
			var m = [20, 120, 20, 120];
            var w = 1280 - m[1] - m[3];
            var h = 800 - m[0] - m[2];
            var i = 0;
           
            
  			tree = d3.layout.tree()
				.size([h, w]);

			diagonal = d3.svg.diagonal()
			    .projection(function(d) { return [d.y, d.x]; });

			canvas = d3.select("#canvas").append("svg")
			    .attr("width", w + m[1] + m[3])
			    .attr("height", h + m[0] + m[2])
			  .append("g")
			    .attr("transform", "translate(" + m[3] + "," + m[0] + ")");
		
            root = cluster_data;
            root.x0 = h / 2;
            root.y0 = 0;
            
         function expandAll(){
          // Initialize the display to show a few nodes.
			  root.children.forEach(toggleAll);
			

              update(root);
         }
			  
			  // Initialize the display to show a few nodes.
			  root.children.forEach(toggleAll);
			  toggle(root.children[1]);
			  toggle(root.children[1].children[2]);
			  toggle(root.children[2]);
			  toggle(root.children[2].children[0]);

              update(root);
              
             function update(source) {
  var duration = d3.event && d3.event.altKey ? 5000 : 500;

  // Compute the new tree layout.
  var nodes = tree.nodes(root).reverse();

  // Normalize for fixed-depth.
  nodes.forEach(function(d) { d.y = d.depth * 180; });

  // Update the nodes…
  var node = canvas.selectAll("g.node")
      .data(nodes, function(d) { return d.id || (d.id = ++i); });

  // Enter any new nodes at the parent's previous position.
  var nodeEnter = node.enter().append("svg:g")
      .attr("class", "node")
      .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
      .on("click", function(d) { toggle(d); update(d); });

  nodeEnter.append("svg:circle")
      .attr("r", 1e-6)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeEnter.append("svg:text")
      .attr("x", function(d) { return d.children || d._children ? -10 : 10; })
      .attr("dy", ".35em")
      .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
      .text(function(d) { return d.name; })
      .style("fill-opacity", 1e-6);

  // Transition nodes to their new position.
  var nodeUpdate = node.transition()
      .duration(duration)
      .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

  nodeUpdate.select("circle")
      .attr("r", 4.5)
      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

  nodeUpdate.select("text")
      .style("fill-opacity", 1);

  // Transition exiting nodes to the parent's new position.
  var nodeExit = node.exit().transition()
      .duration(duration)
      .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
      .remove();

  nodeExit.select("circle")
      .attr("r", 1e-6);

  nodeExit.select("text")
      .style("fill-opacity", 1e-6);

  // Update the links…
  var link = canvas.selectAll("path.link")
      .data(tree.links(nodes), function(d) { return d.target.id; });

  // Enter any new links at the parent's previous position.
  link.enter().insert("svg:path", "g")
      .attr("class", "link")
      .attr("d", function(d) {
        var o = {x: source.x0, y: source.y0};
        return diagonal({source: o, target: o});
      })
    .transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition links to their new position.
  link.transition()
      .duration(duration)
      .attr("d", diagonal);

  // Transition exiting nodes to the parent's new position.
  link.exit().transition()
      .duration(duration)
      .attr("d", function(d) {
        var o = {x: source.x, y: source.y};
        return diagonal({source: o, target: o});
      })
      .remove();

  // Stash the old positions for transition.
  nodes.forEach(function(d) {
    d.x0 = d.x;
    d.y0 = d.y;
  });
} 
              
              
}

		
		}


		</script>

<div class="modal fade" id="aboutModal" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button class="close" type="button" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				<h4 class="modal-title">Designing for Goal Consisency</h4>
			</div>
			<div class="modal-body">

				<div class="panel panel-primary">
					<div class="panel-heading">Design
					</div>
					<p><br>
					<ul>
						<li>....
						</li>
						<li>....
						</li>
					</ul>
					<p><br>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">Implementation
					</div>
					<p><br>
				  
					<p><br>
				</div>

			</div>
			<!-- /modal body -->
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<div class="modal fade" id="resourcesModal" tabindex="1" role="dialog">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<button class="close" type="button" data-dismiss="modal"
						aria-hidden="true">&times;</button>
				<h4 class="modal-title">Resources and External Links</h4>
			</div>
			<div class="modal-body">
				<div class="panel panel-primary">
					<div class="panel-heading">Research
					</div>
					<p>
					<ul>
					   
						<li><a href="http://cis.ksu.edu" target="_blank">Kansas State Computing &
							Information Sciences Department</a></li>
					</ul>
					<p>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">Data Visualization
					</div>
					<p>
					<ul>
						<li><a href="http://d3js.org/" target=" _blank">Data-Driven Documents</a>
						</li>
						<li><a href="http://nvd3.org/" target=" _blank">NVD3: Re-usable charts for
							D3</a></li>
					  
						<li><a href="https://github.com/ksucase/bird_microbiota" target="_blank">GitHub
							designing_complex_systems repository</a></li>
					</ul>
					<p>
				</div>
				<div class="panel panel-primary">
					<div class="panel-heading">Data Visualization
					</div>
					<p>
				  ... 
					<p>
				</div>
			</div>

		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->


</body>
</html>

